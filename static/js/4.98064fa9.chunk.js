(this["webpackJsonpmovie-list"]=this["webpackJsonpmovie-list"]||[]).push([[4],{63:function(e,t,n){"use strict";n.r(t);var a=n(39),c=n.n(a),s=n(41),r=n(61),i=n(42),o=n.n(i),l=n(0),u=n.n(l),b=n(11),f=b.c,d=n(6),j=n(10),p=n(1),v=function(e){var t=e.length,n=e.index,a=e.finalMovieElementRef,c=e.movieData,s=e.url;return Object(p.jsxs)("div",{ref:t===n+3?a:null,children:[Object(p.jsx)("img",{alt:c.name,src:"".concat(s,"/assets/Slices/").concat(c.img),onError:function(e){return function(e){e.target.src="".concat(s,"/assets/Slices/placeholder_for_missing_posters.png")}(e)}}),Object(p.jsx)("span",{className:"font-thin text-base",children:c.name})]},n)},h=u.a.memo(v);t.default=function(){var e=window.location.href,t=f((function(e){return e.movieList.movies})),n=Object(b.b)(),a=Object(l.useState)(1),i=Object(r.a)(a,2),u=i[0],v=i[1],m=Object(l.useState)(0),g=Object(r.a)(m,2),O=g[0],x=g[1],w=Object(l.useState)(0),N=Object(r.a)(w,2),S=N[0],y=N[1],k=Object(l.useState)(!1),E=Object(r.a)(k,2),I=E[0],T=E[1],A=Object(l.useRef)(),C=Object(l.useState)(""),P=Object(r.a)(C,2),G=P[0],M=P[1],_=Object(l.useState)(!0),L=Object(r.a)(_,2),R=L[0],B=L[1],D=Object(l.useState)(!1),J=Object(r.a)(D,2),q=J[0],z=J[1],F=Object(l.useState)(""),U=Object(r.a)(F,2),H=U[0],K=U[1],Q=Object(l.useCallback)((function(e){var t;R||(A.current&&A.current.disconnect(),A.current=new IntersectionObserver((function(e){e[0].isIntersecting&&q&&v((function(e){return e+1}))})),e&&(null===(t=A.current)||void 0===t||t.observe(e)))}),[R,q]);Object(l.useEffect)((function(){if(!R){var e=setTimeout((function(){X()}),1e3);return function(){return clearTimeout(e)}}}),[G]),Object(l.useEffect)((function(){V()}),[u]),Object(l.useEffect)((function(){G||(B(!1),z(t.length<O))}),[t]);var V=function(){B(!0),o.a.get("".concat(e,"/assets/API/CONTENTLISTINGPAGE-PAGE").concat(u,".json")).then((function(e){var t,a;K(e.data.page.title),x(e.data.page["total-content-items"]),y(e.data.page["page-size-requested"]),n(d.a.update((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.page["content-items"])||void 0===a?void 0:a.content)?e.data.page["content-items"].content:[]))})).catch((function(e){B(!1),z(!1)}))};function W(){for(var e=1,t=[];e*S-O<S;)t.push(e),e++;return t}var X=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B(!0),n(d.a.reset()),a=W(),t.next=5,Promise.all(a.map(function(){var t=Object(s.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(e,"/assets/API/CONTENTLISTINGPAGE-PAGE").concat(a,".json")).then((function(e){var t,a;n(d.a.update((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.page["content-items"])||void 0===a?void 0:a.content)?e.data.page["content-items"].content:[]))})).catch((function(e){B(!1),z(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:n(d.a.searchUpdate(G)),B(!1),z(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(I||e)&&(B(!0),M(""),e&&T(!1),n(d.a.reset()),1===u?V():v(1))};return Object(p.jsxs)("div",{className:" h-screen w-screen relative text-white font-body",style:{backgroundColor:"#171717"},children:[Object(p.jsxs)("div",{style:{backgroundImage:"url(".concat(e,"/assets/Slices/nav_bar.png)")},className:"absolute inset-x-0 top-0 flex justify-between p-4 bg-no-repeat bg-contain bg-top w-full h-16",children:[Object(p.jsxs)("div",{className:"flex items-center w-3/5",children:[Object(p.jsx)("button",{className:"w-5",onClick:function(){return Y(!0)},children:Object(p.jsx)("img",{alt:"Back",className:"object-contain h-5 w-5",src:"".concat(e,"/assets/Slices/Back.png")})}),Object(p.jsx)("span",{className:"ml-1 text-xl font-light whitespace-nowrap",children:H})]}),Object(p.jsxs)("div",{className:"flex items-center w-3/5 ml-1  text-gray-300 relative rounded-full p-2 border-2 ".concat(I?"bg-black border-white":"border-transparent"),children:[Object(p.jsx)("input",{type:"text",placeholder:"Search...",value:G,className:"ml-2 w-full bg-transparent outline-none  transition ease-linear ".concat(I?"opacity-1":"opacity-0"),onChange:function(e){return M(e.target.value)}}),Object(p.jsx)("button",{className:"absolute right-0 mr-3 outline-none",onClick:function(){Y(),T(!I)},children:Object(p.jsx)("img",{alt:"Search",className:"object-contain h-5 w-5",src:"".concat(e,"/assets/Slices/search.png")})})]})]}),0===t.length?G?Object(p.jsx)("div",{className:"flex align-middle px-4 h-screen w-auto justify-center pt-20",children:"No Movies Found"}):R?Object(p.jsx)(j.a,{}):Object(p.jsx)("div",{className:"flex align-middle px-4 h-screen w-auto justify-center pt-20",children:"No Movies Available"}):Object(p.jsx)("div",{className:"grid grid-cols-3 gap-4 px-4 h-screen w-auto overflow-y-auto overflow-x-hidden pt-14",children:t.map((function(n,a){return Object(p.jsx)(h,{url:e,length:t.length,index:a,finalMovieElementRef:Q,movieData:n})}))})]})}}}]);
//# sourceMappingURL=4.98064fa9.chunk.js.map